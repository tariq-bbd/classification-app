
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    ViewData["pieCHart"] = null;
    ViewData["barCHartData"] = 1;//Roep C# method en parse die data in die js



}
@section usage {
    <link rel="stylesheet" href="~/css/site.css" />
    <script src="~/js/Chart.bundle.min.js"></script>
    <script type="text/javascript">


        document.addEventListener('DOMContentLoaded', (event) => {
        var barCHart = document.getElementById('barChart');
            var stars = [135850, 52122, 148825, 16939, 9763,10000 , 9763, , 9763];
            var frameworks = ['React', 'Angular', 'Vue', 'Hyperapp', 'Omi', 'j', 'h', 'b'];

        var bartestChart = new Chart(barCHart, {
            type: 'polarArea',
            data: {
                labels: ['React', 'Angular', 'Vue', 'Hyperapp', 'Omi', 'j', 'h', 'b'],
                datasets: [{
                    label: 'Github Stars',
                    data: [135850, 52122, 148825, 16939, 9763, 10000, 9763,500 ],
                    backgroundColor: [
                        'rgb(255, 99, 132)',
                        'rgb(54, 162, 235)',
                        'rgb(255, 205, 86)',
                        'rgb(255, 205, 160)',
                        'rgb(255, 205, 86)',
                        'rgb(255, 120, 86)',
                        'rgb(150, 205, 86)',
                        'rgb(255, 105, 186)'
                    ],
                    hoverOffset: 4
                }]
            },
            responsive: true
        })

            var pieCHart = document.getElementById('pieChart');

            var bartestChart = new Chart(pieCHart, {
                type: 'doughnut',
                data: {
                    labels: [
                        'Red',
                        'Blue',
                        'Yellow'
                    ],
                   
                    datasets: [{
                        label: 'My First Dataset',
                        data: [300, 50, 100],
                        backgroundColor: [
                            'rgb(255, 99, 132)',
                            'rgb(54, 162, 235)',
                            'rgb(255, 205, 86)'
                        ],
                        hoverOffset: 4
                    }]
                },
                responsive: true
            })

            

    });
    </script>

}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
   

</head>
<body>
    <div class="container-fluid">
        <div class="row ">
            <!-- Sidear -->
            
            <main class="col-md-12 ml-sm-auto col-lg-12  padding-top">
                <h3>Patients</h3>
                <hr>
                <div class="table-responsive">
                    <table class="table table-light table-striped ">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">First</th>
                                <th scope="col">Last</th>
                                <th scope="col">Position</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">1</th>
                                <td>Mark</td>
                                <td>Otto</td>
                                <td>Project Manager</td>
                            </tr>
                            
                        </tbody>
                    </table>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="card">
                            <canvas id="pieChart" width="600" height="800"></canvas>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="card">
                            <canvas id="barChart" width="600" height="800"></canvas>
                        </div>
                    </div>
                </div>


            </main>
        </div>
        @* start of card section *@
        

        <div class="row">
            <div class="col-sm-6">
                <div class="card">

                </div>
            </div>
            <div class="col-sm-6">
                <div class="card">

                </div>
            </div>
        </div>
    </div>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>

</body>
</html>

@*<script>
        /////////
        var myAmounts = [];
        var myCategories = [];
        var myInvoices;

        function showChart() {
            myAmounts = myInvoices.AmountList;
            myCategories = myInvoices.CategoryList;
            console.log(myAmounts);
            console.log(myCategories);
            let popCanvasName = document.getElementById("invChart");
            let barChartName = new Chart(popCanvasName, {
                type: 'bar',
                data: {
                    labels: myCategories,
                    datasets: [{
                        label: 'Invoice data',
                        data: myAmounts,
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.6)',
                            'rgba(54, 162, 235, 0.6)',
                            'rgba(255, 206, 86, 0.6)',
                            'rgba(75, 192, 192, 0.6)',
                            'rgba(153, 102, 255, 0.6)',
                        ]
                    }]
                },
                options: {
                    responsive: false,
                    scales: {
                        yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                    }
                }
            });
        }
        function getChartData() {
            return fetch('./Index?handler=InvoiceChartData',
                {
                    method: 'get',
                    headers: {
                        'Content-Type': 'application/json;charset=UTF-8'
                    }
                })
                .then(function (response) {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw Error('Response Not OK');
                    }
                })
                .then(function (text) {
                    try {
                        return JSON.parse(text);
                    } catch (err) {
                        throw Error('Method Not Found');
                    }
                })
                .then(function (responseJSON) {
                    myInvoices = responseJSON;
                    showChart();
                })
        }
        getChartData();
    </script>*@
